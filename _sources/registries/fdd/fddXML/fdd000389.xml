<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000389" titleName="Apple ProRes 422 Codec Family" shortName="Apple_ProRes_422_Codec_Family" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-1.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>moving-image</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>encoding</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>unitary</fdd:gdfrComposition>
		<fdd:gdfrForm>binary</fdd:gdfrForm>
		<fdd:gdfrConstraint>structured</fdd:gdfrConstraint>
		<fdd:gdfrBasis>sampled</fdd:gdfrBasis>
		<fdd:updates>
			<fdd:date>2014-11-17</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Preliminary</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>Apple ProRes 422 Codec Family</fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>moving image, video formats</fdd:keyword>
			<fdd:keyword>codec formats</fdd:keyword>
			<fdd:keyword>compression formats</fdd:keyword>
		</fdd:keywords>
		<fdd:description>
			<p>Apple ProRes is a family of proprietary, lossy compressed, high quality video intermediate codecs primarily supported by the Final Cut Pro (FCP) suite of post-production and editing software programs. There are two main branches of Apple ProRes: the Apple ProRes 422 Codec Family (described here) and the Apple ProRes 4444 Codec Family. The Apple ProRes 4444 Codec Family is not described in depth at this time but see the <a href="#notes">Notes</a> section for additional information. </p>
			<p>ProRes was designed to be a high quality intermediate codec that keeps post-production workflow data at 10-bit quality, with a bandwidth low enough to be usable for the majority of FCP users.</p>
			<p>The key character traits that define the ProRes 422 family are support for:</p>
			<ul>
				<li>4:2:2 source material (as well as 4:2:1 and 4:2:0 source material if the chroma is upsampled to 4:2:2 prior to encoding),</li>
				<li>any frame size (including SD, HD, 2K, 4K, and 5K) at full resolution, </li>
				<li>10-bit sample depth,</li>
				<li>intrafame (I-frame) only, and</li>
				<li>variable bit rate.</li>
			</ul>
			<p>While ProRes is a 10-bit native codec, it can be used with either 8- or 10-bit sources and 8-bit sources (such as DVCProHD) would need to be upsampled to a 10-bit file.</p>
			<p>The Apple ProRes codecs, both the 422 and 4444 families, support both interlaced and progressive scanned images and preserve the scanning method used in the source material.  The 422 codecs are differentiated primarily by data rate limits, expected file size ranges and software version support. The 4444 codecs additionally have dynamic range limits (see <a href="#notes">Notes</a>). Apple provides a <a href="http://support.apple.com/kb/PH17914?viewlocale=en_US">summary</a> of the ProRes family technical specifications as well as  <a href="https://documentation.apple.com/en/finalcutpro/professionalformatsandworkflows/Final%20Cut%20Pro%207%20Professional%20Formats%20and%20Workflows%20%28en%29.pdf">guidance</a> for selecting appropriate ProRes codecs based on anticipated workflows. The Apple ProRes family spans a broad range of data rates to support a variety of workflow and application purposes. The authors of this website have selected to use 1920x1080 at 29.97 fps as a comparison target across the ProRes 422 codecs.</p>
		</fdd:description>
		<fdd:shortDescription>Apple ProRes is a family of proprietary, lossy compressed, high quality video intermediate codecs primarily supported by the Final Cut Pro suite of post-production and editing programs.</fdd:shortDescription>
		<fdd:productionPhase>Production (initial state) and post production (middle state).</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Used by</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000429</fdd:id>
					<fdd:shortName>QTV_AppleProRes422</fdd:shortName>
					<fdd:titleName>QuickTime Video, Apple ProRes 422 Codec Family</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has subtype</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000403</fdd:id>
					<fdd:shortName>Apple_ProRes_422_HQ</fdd:shortName>
					<fdd:titleName>Apple ProRes 422 High Quality</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has subtype</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000390</fdd:id>
					<fdd:shortName>Apple_ProRes_422</fdd:shortName>
					<fdd:titleName>Apple ProRes 422</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has subtype</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000404</fdd:id>
					<fdd:shortName>Apple_ProRes_422_LT</fdd:shortName>
					<fdd:titleName>Apple ProRes 422 LT</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has subtype</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000405</fdd:id>
					<fdd:shortName>Apple_ProRes_422_Proxy</fdd:shortName>
					<fdd:titleName>Apple ProRes 422 Proxy</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>Apple ProRes 422 Codec Family files appear in Library of Congress collections holdings. See <fddLink id="fdd000390">Apple_ProRes_422</fddLink> and <fddLink id="fdd000403">Apple_ProRes_HQ</fddLink>.</fdd:experience>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>Partially documented. Proprietary format developed by Apple, Inc.</fdd:disclosure>
		<fdd:documentation>Some technical information is available through third parties including <a href="http://wiki.multimedia.cx/index.php?title=Apple_ProRes#ProRes_422_Standard_Definition_.2F_High_Quality_codec">Multimedia Wiki</a>. Apple also provides high level information through its frequently updated <a href="http://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">ProRes white paper.</a>
		</fdd:documentation>
		<fdd:adoption>
			<p>The ProRes family is widely adopted in professional moving image production.  There is extensive use of the 422 family in the creation of documentaries and other programs for broadcast television.  There is some use of the ProRes 4444 family in the production of advertising and in content destined for theatrical distribution. The popularity of Apple's Final Cut software suite has encouraged uptake of the codecs. Apple ProRes 422 and Apple ProRes 422 HQ were first supported in Final Cut 2 (2001); Apple ProRes 422 Proxy, Apple ProRes 422 LT and Apple ProRes 4444 were added with Final Cut Pro 7 (2009); Apple ProRes 4444 XQ was added to Final Cut Pro X (2012). Apple has licensed Apple ProRes for use in specific products and workflows.  Although <a href="https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">Apple</a> complains that unauthorized implementations provided by other third-party software and hardware products including <a href="https://www.ffmpeg.org/ffmpeg-codecs.html#ProRes">FFmpeg</a> "might result in decoding errors, performance degradation, incompatibility, and instability," this support is a further indicator of adoption.</p>
			<p>In November 2015, the <a href="http://open.blogs.nytimes.com/2016/11/01/using-microservices-to-encode-and-publish-videos-at-the-new-york-times/">New York Times</a> listed ProRes422 as the preferred format for high-resolution assets from video producers, editors, and partners which is later transcoded to a variety of different outputs for specific services including a &quot;single HLS output with six resolutions and bitrates to support adaptive streaming, four different H.264/MP4 outputs, and one VP8/WebM for ... users on the Mozilla Firefox browser running on Microsoft Windows XP.&quot;</p>
		</fdd:adoption>
		<fdd:licensingAndPatents>
			<p>
				<a href="http://support.apple.com/en-us/HT200321">Licenses</a> are required to incorporate support for the ProRes family in commercial hardware and software; no licenses are required for use by content creators.</p>
		</fdd:licensingAndPatents>
		<fdd:transparency>Proprietary binary format, requires tools to write and read. </fdd:transparency>
		<fdd:selfDocumentation>Technical metadata is in the frame container atoms and frame headers which declare the ProRes type, frame size and color information. </fdd:selfDocumentation>
		<fdd:externalDependencies>None.</fdd:externalDependencies>
		<fdd:techProtection>None. <a href="http://www.digitalpreservation.gov/formats/contact_format.shtml">Comments welcome.</a>
		</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:movingImageQF>
			<fdd:normalVideo>Supported</fdd:normalVideo>
			<fdd:clarity>
				<p>Potentially excellent depending on the specific codec.</p>
			</fdd:clarity>
			<fdd:beyondVideo>
				<p>The performance of Apple ProRes codecs scales in multiprocessor environments so that the decoding time per frame goes down as the number of processors increases. When the system spends less time decoding each frame, it has time for more real-time effects processing.</p>
				<p>In addition, its scalar quantization allows for the possibility to decode a video at different partial resolutions (½ or ¼ etc size of the full frame size) which lowers the data throughput while maintaining high image quality. This functionality allows the user advantages in playback of additional tracks of video and higher quality previews.</p>
			</fdd:beyondVideo>
		</fdd:movingImageQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValueNA>See note.</fdd:sigValueNA>
				<fdd:note>The Apple ProRes 422 Codecs are usually contained within the <fddLink id="fdd000052">QuickTime</fddLink> &quot;mov&quot; wrapper.</fdd:note>
			</fdd:filenameExtension>
			<fdd:other>
				<fdd:tag>Other</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>icpn</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>
						<p>Undocumented ProRes frame type ID in frame container atom</p>
					</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Pronom PUID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>fmt/797</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="http://www.nationalarchives.gov.uk/PRONOM/fmt/797">http://www.nationalarchives.gov.uk/PRONOM/fmt/797</a>. However, fmt/797 the entry for Apple ProRes includes signature values for QuickTime, the usual wrapper for the Apple ProRes Family, but these signature values apply to all QuickTime files, not just those containing Apple ProRes 422 encodings. Moreover, this entry does not distinguish between ProRes 422 and ProRes 444</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Wikidata Title ID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>Q1136889</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="https://www.wikidata.org/wiki/Q1136889">https://www.wikidata.org/wiki/Q1136889</a>. This entry does not distinguish between ProRes 422 and ProRes 444
						</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:notes>
		<fdd:general>
			<p>The ProRes families uses discrete cosine transform-based compression (similar to that used in <fddLink id="fdd000028">MPEG-2</fddLink> and <fddLink id="fdd000150">JPEG DCT Compression Encoding, Extensions</fddLink>). The scalar quantization allows for full frame playback previews from ½ or ¼ size frame data, lowering the data throughput while maintaining high image quality. This functionality allows the user advantages in playback of additional tracks of video and higher quality previews. </p>
			<p>
				<a href="http://provideocoalition.com/industryexclusive/story/prores_a_closer_look">Gary Adcock</a> explains the benefits of ProRes utilizing variable bit rate in this way: &quot;ProRes, being a variable bit rate (VBR) codec, allows the more complex parts of the video to be encoded at a higher bit depth for more detail, while the less complex areas are encoded at a lower bit depth, thereby allowing for overall smaller file sizes [than uncompressed video]. ProRes is approximately a 5.5:1 compression ratio at its maximum and slightly more than 3:1 at its minimum compression level for SD content. This means that despite the quality there is still a fair amount of compression being done on each file.&quot;</p>
			<p>
				<a href="http://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">Apple&apos;s ProRes White Paper</a>  uses peak signal to noise ratio (PSNR) to indicate image quality, stating that PSNR measures &quot;how closely a compressed image (after being decompressed) matches the original image handed to the encoder. The higher the PSNR value, the more closely the encoded image matches the original.&quot; Higher PSNR values also indicates more headroom in the file so that image sequences can be decoded and re-encoded over multiple generations to good effect. In the June 2014 version of the White Paper, a graph on page 13 shows higher PSNR values for a scene encoded as ProRes 422 HQ as compared to the same scene encoded as Avid's DNxHD and Panasonic's D5. Another graph on the same page compares four ProRes 422 subtypes, with this comment, "PSNR for Apple ProRes 422 HQ is 15–20 dB higher than that for Apple ProRes 422 Proxy, but the Apple ProRes 422 HQ stream has nearly five times the data rate of the Apple ProRes 422 Proxy stream. The benefit of higher fidelity comes at the cost of larger file sizes.&quot; </p>
			<p>The <a href="http://wiki.multimedia.cx/index.php?title=Apple_ProRes">Multimedia Wiki</a>, describes the atom-based structure of ProRes encoded data, a feature that makes them a good fit for the <fddLink id="fdd000052">QuickTime</fddLink> file wrapper. The first level is the frame container atom followed by the frame header. The picture data comprises a picture header, which is present for every picture (field), which defines the width and height factors of a slice to inform the decoder how the coded picture is subdivided. The slice index table consists of 16-bit entries - one for each slice - gives the length of the data for each slice, permitting independent processing of the slices in means of multi-threading. Slices data array contains actual encoded macroblock data.</p>
			<p>The Apple ProRes 4444 Codec Family, which includes Apple ProRes 4444 and Apple ProRes 4444 HQ, is seeing some use in the creation of productions destined for theaters and high end advertising. The fourth &quot;4&quot; in the name indicates this format's support for alpha (transparency) data, in contrast to ProRes 422. Other features include picture sizes ranging as high as 5K and 4:4:4 chroma subsampling up to 12-bits per sample. Alpha channel sampling can be as high as 16-bits.</p>
		</fdd:general>
	</fdd:notes>
	<fdd:formatSpecifications/>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf</link>
					<tag>Apple ProRes White Paper - June 2014</tag>
					<comment>Describes the Apple ProRes codec family</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://support.apple.com/kb/PH17914?viewlocale=en_US</link>
					<tag>Final Cut Pro X: Apple ProRes</tag>
					<comment>Summary of technical characteristics of ProRes family variants.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://provideocoalition.com/industryexclusive/story/prores_a_closer_look</link>
					<tag>ProRes: A Closer Look by Gary Adcock</tag>
					<comment>Overview of the ProRes family from 2009 - does not include all current variants</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://documentation.apple.com/en/finalcutpro/professionalformatsandworkflows/Final%20Cut%20Pro%207%20Professional%20Formats%20and%20Workflows%20%28en%29.pdf</link>
					<tag>Final Cut Pro 7: About the Apple ProRes Codecs</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://wiki.multimedia.cx/index.php?title=Apple_ProRes</link>
					<tag>Multimedia Wiki entry for Apple ProRes</tag>
					<comment>Includes description of &quot;atom&quot; structure.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://larryjordan.com/articles/picking-the-right-version-of-prores/</link>
					<tag>FCP 7: Pick the Right Version of ProRes by Larry Jordan</tag>
					<comment>Overview of pros and cons of ProRes variants for different uses</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://open.blogs.nytimes.com/2016/11/01/using-microservices-to-encode-and-publish-videos-at-the-new-york-times/</link>
					<tag>Using Microservices to Encode and Publish Videos at The New York Times</tag>
					<comment>Description of video transcoding processes for NYT video</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.nationalarchives.gov.uk/pronom/fmt/797</link>
					<tag>PRONOM entry for fmt/797</tag>
					<comment>Information in PRONOM from UK National Archives about Apple ProRes. PUID: fmt/797.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.wikidata.org/wiki/Q1136889</link>
					<tag>Wikidata entry for Q1136889</tag>
					<comment>Information in Wikidata about DPX. Wikidata Title ID: Q1136889.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
